<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–æ—á–Ω—ã—Ö –ª–∏—Å—Ç–æ–≤ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –û–ó–ü</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<div class="app-container">
    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <!-- –°–µ–ª–µ–∫—Ç–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ + –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
            <div class="sidebar-header-top">
                <select class="period-select" id="periodSelect" onchange="filterByPeriod(this.value)">
                    <option value="2025-2026" selected>2025-2026</option>
                    <option value="2024-2025">2024-2025</option>
                    <option value="2023-2024">2023-2024</option>
                </select>

                <div style="position: relative;">
                    <button class="notifications-btn" onclick="toggleNotifications()">
                        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                        </svg>
                        <span class="notifications-badge hidden">0</span>
                    </button>

                    <div class="notifications-dropdown" id="notificationsDropdown">
                        <div class="notifications-header">
                            <h4>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h4>
                            <span class="notifications-clear" onclick="clearNotifications()">–û—á–∏—Å—Ç–∏—Ç—å</span>
                        </div>
                        <div id="notificationsBody">
                            <!-- Notifications will be rendered here -->
                        </div>
                    </div>
                </div>
            </div>

            <h2>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π</h2>
            <p>–û–±—ä–µ–∫—Ç—ã –æ—Ü–µ–Ω–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏</p>
        </div>

        <div class="sidebar-filters">
            <input type="text" class="sidebar-search" placeholder="–ü–æ–∏—Å–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏..." id="treeSearch">
        </div>

        <div class="sidebar-content">
            <div class="tree">
                <!-- Tree will be rendered here by JavaScript -->
            </div>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main-content">
        <!-- DASHBOARD -->
        <div id="dashboardView" class="dashboard-container active">
            <div class="main-header">
                <h1>–î–∞—à–±–æ—Ä–¥ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –û–ó–ü</h1>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>
            </div>

            <div class="content-wrapper">
                <!-- KPI Cards -->
                <div class="dashboard-kpi">
                    <div class="kpi-card">
                        <div class="kpi-label">–í—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤</div>
                        <div class="kpi-value">0</div>
                        <div class="kpi-change">-</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-label">–°—Ä–µ–¥–Ω—è—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å</div>
                        <div class="kpi-value success">0%</div>
                        <div class="kpi-change">-</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-label">–° –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏</div>
                        <div class="kpi-value warning">0</div>
                        <div class="kpi-change">–¢—Ä–µ–±—É—é—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-label">–°—Ä–µ–¥–Ω–∏–π –∏–Ω–¥–µ–∫—Å</div>
                        <div class="kpi-value success">0</div>
                        <div class="kpi-change">–¶–µ–ª—å: 0.95+</div>
                    </div>
                </div>

                <!-- Objects Table -->
                <div class="dashboard-table-header">
                    <h3>–û–±—ä–µ–∫—Ç—ã –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–µ</h3>
                    <div class="dashboard-filters">
                        <button class="quick-filter active" onclick="filterDashboard('all')">–í—Å–µ</button>
                        <button class="quick-filter" onclick="filterDashboard('issues')">–° –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏</button>
                        <button class="quick-filter" onclick="filterDashboard('ready')">–ì–æ—Ç–æ–≤—ã</button>
                    </div>
                </div>

                <div class="objects-table">
                    <table>
                        <thead>
                        <tr>
                            <th>–û–±—ä–µ–∫—Ç</th>
                            <th>–¢–°–û</th>
                            <th>–ü—Ä–æ–≥—Ä–µ—Å—Å</th>
                            <th>–ò–Ω–¥–µ–∫—Å</th>
                            <th>–°—Ç–∞—Ç—É—Å</th>
                            <th>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td colspan="7" class="empty-state">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- DETAIL VIEW -->
        <div id="detailView" class="detail-container">
            <div class="main-header">
                <div class="detail-breadcrumb">
                    <a href="#" onclick="return false;">‚Üê –ù–∞–∑–∞–¥</a>
                    <span>/</span>
                    <span>–û–õ-0000</span>
                </div>
                <h1>–î–µ—Ç–∞–ª—å–Ω—ã–π –ª–∏—Å—Ç</h1>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>

            <div class="content-wrapper">
                <div class="detail-header">
                    <div class="detail-meta">
                        <div class="detail-meta-item" data-meta="sheet-id">
                            <span class="detail-meta-label">‚Ññ –õ–∏—Å—Ç–∞</span>
                            <span class="detail-meta-value">–û–õ-0000</span>
                        </div>
                        <div class="detail-meta-item" data-meta="created">
                            <span class="detail-meta-label">–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</span>
                            <span class="detail-meta-value">-</span>
                        </div>
                        <div class="detail-meta-item" data-meta="index">
                            <span class="detail-meta-label">–ò–Ω–¥–µ–∫—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏</span>
                            <span class="detail-meta-value">-</span>
                        </div>
                        <div class="detail-meta-item" data-meta="docs">
                            <span class="detail-meta-label">–î–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ</span>
                            <span class="detail-meta-value">0 –∏–∑ 0</span>
                        </div>
                    </div>

                    <div class="progress-bar-container">
                        <div class="progress-label">
                            <span class="progress-label-text">–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</span>
                            <span class="progress-label-value">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%;"></div>
                        </div>
                    </div>
                </div>

                <!-- Filters Section -->
                <div class="sheet-filters">
                    <div class="filter-buttons">
                        <button class="filter-btn active" data-filter="all" onclick="filterSheetItems('all')">
                            –í—Å–µ –ø—É–Ω–∫—Ç—ã
                            <span class="filter-count" id="filterCountAll">0</span>
                        </button>
                        <button class="filter-btn" data-filter="no-files" onclick="filterSheetItems('no-files')">
                            –ë–µ–∑ —Ñ–∞–π–ª–æ–≤
                            <span class="filter-count filter-count-warning" id="filterCountNoFiles">0</span>
                        </button>
                        <button class="filter-btn" data-filter="no-score" onclick="filterSheetItems('no-score')">
                            –ë–µ–∑ –æ—Ü–µ–Ω–∫–∏
                            <span class="filter-count filter-count-warning" id="filterCountNoScore">0</span>
                        </button>
                        <button class="filter-btn" data-filter="pending" onclick="filterSheetItems('pending')">
                            –û–∂–∏–¥–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
                            <span class="filter-count filter-count-info" id="filterCountPending">0</span>
                        </button>
                        <button class="filter-btn" data-filter="issues" onclick="filterSheetItems('issues')">
                            –° –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏
                            <span class="filter-count filter-count-danger" id="filterCountIssues">0</span>
                        </button>
                        <button class="filter-btn" data-filter="completed" onclick="filterSheetItems('completed')">
                            –ì–æ—Ç–æ–≤—ã–µ
                            <span class="filter-count filter-count-success" id="filterCountCompleted">0</span>
                        </button>
                    </div>
                </div>

                <!-- Tree Table -->
                <div class="tree-table">
                    <table>
                        <thead>
                        <tr>
                            <th style="width: 100px">‚Ññ</th>
                            <th>–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è</th>
                            <th style="width: 100px">–§–∞–π–ª—ã</th>
                            <th style="width: 280px">–°—Ç–∞—Ç—É—Å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è</th>
                            <th style="width: 80px">–û—Ü–µ–Ω–∫–∞</th>
                            <th style="width: 120px">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td colspan="6" class="empty-state">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- MODAL: Files -->
<div class="modal-overlay" id="filesModal">
    <div class="modal">
        <div class="modal-header">
            <h3>–î–æ–∫—É–º–µ–Ω—Ç—ã</h3>
            <button class="modal-close" onclick="closeModal('filesModal')">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
        </div>
        <div class="modal-body">
            <!-- Files will be rendered here -->
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="closeModal('filesModal')">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
</div>

<!-- MODAL: Comments -->
<div class="modal-overlay" id="commentsModal">
    <div class="modal">
        <div class="modal-header">
            <h3>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h3>
            <button class="modal-close" onclick="closeModal('commentsModal')">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
        </div>
        <div class="modal-body">
            <!-- Comments will be rendered here -->
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="closeModal('commentsModal')">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
</div>

<!-- MODAL: Upload Files -->
<div class="modal-overlay upload-modal" id="uploadModal">
    <div class="modal">
        <div class="modal-header">
            <h3>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤</h3>
            <button class="modal-close" onclick="closeUploadModal()">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
        </div>
        <div class="modal-body">
            <div class="upload-area" id="uploadArea" onclick="document.getElementById('fileInput').click()">
                <div class="upload-icon">üìÅ</div>
                <div class="upload-title">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞</div>
                <div class="upload-subtitle">–∏–ª–∏ <strong>–≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª—ã</strong> —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞</div>
            </div>
            <input type="file" id="fileInput" multiple style="display: none;">

            <div class="files-preview" id="filesPreview">
                <!-- File previews will be rendered here -->
            </div>

            <div class="upload-progress" id="uploadProgress">
                <div class="upload-progress-bar">
                    <div class="upload-progress-fill" id="uploadProgressFill" style="width: 0%;"></div>
                </div>
                <div class="upload-progress-text" id="uploadProgressText">–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤...</div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="closeUploadModal()">–û—Ç–º–µ–Ω–∞</button>
            <button class="btn btn-primary" id="uploadButton" onclick="confirmUpload()" disabled>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã</button>
        </div>
    </div>
</div>

<!-- Scripts -->
<script src="js/app.js"></script>
<script src="js/notifications.js"></script>
<script src="js/dashboard.js"></script>
<script src="js/sheet.js"></script>
</body>
</html>